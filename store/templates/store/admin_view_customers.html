{% extends 'store/base.html' %}
{% block customeractive %} active {% endblock customeractive %}
{% load static %}

{% block body %}
<br>
<div class="row my-4">
    <div class="mb-4 fs-2">
        <strong>Registered Customers</strong>
    </div>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    {% endif %}

    <table class="table table-striped table-hover border shadow">
        <thead>
        <tr>
            <th>Name</th>
            <th>Profile Picture</th>
            <th>Mobile</th>
            <th>Email</th>
            <th>Address</th>
            <th>Delete</th>
        </tr>
        </thead>
        {% for customer in customers %}
        <tr>
            <td> {{ customer.get_name }}</td>
            <td><img src="{{ customer.profile_pic.url }}" alt="Profile Pic" height="40px" width="40px"/></td>
            <td>{{ customer.mobile }}</td>
            <td>{{ customer.user.email }}</td>
            <td>{{ customer.address }}</td>
            <td><a class="btn btn-danger btn-sm" href="{% url 'admin-delete-customer' customer.user %}">
                <i class="fas fa-trash-alt"></i></a></td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock body %}
